â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HABIT TRACKER API STRUCTURE                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ habit-tracker-api/
â”‚
â”œâ”€â”€ ğŸ“„ server.js                    # Main entry point
â”‚   â”œâ”€â”€ Loads environment variables
â”‚   â”œâ”€â”€ Connects to MongoDB
â”‚   â”œâ”€â”€ Sets up Express middleware
â”‚   â””â”€â”€ Mounts routes
â”‚
â”œâ”€â”€ ğŸ“ config/
â”‚   â””â”€â”€ ğŸ“„ db.js                    # MongoDB connection logic
â”‚
â”œâ”€â”€ ğŸ“ models/                      # Database schemas
â”‚   â”œâ”€â”€ ğŸ“„ User.js                  # User schema (name, email, password, role)
â”‚   â”œâ”€â”€ ğŸ“„ Habit.js                 # Habit schema (name, category, frequency)
â”‚   â””â”€â”€ ğŸ“„ HabitLog.js              # Log schema (habitId, date, completed)
â”‚
â”œâ”€â”€ ğŸ“ controllers/                 # Business logic
â”‚   â”œâ”€â”€ ğŸ“„ authController.js        # Register & Login logic
â”‚   â”œâ”€â”€ ğŸ“„ habitController.js       # CRUD operations for habits
â”‚   â””â”€â”€ ğŸ“„ logController.js         # Logging & streak calculation
â”‚
â”œâ”€â”€ ğŸ“ routes/                      # API endpoints
â”‚   â”œâ”€â”€ ğŸ“„ authRoutes.js            # /api/auth/register, /api/auth/login
â”‚   â”œâ”€â”€ ğŸ“„ habitRoutes.js           # /api/habits (GET, POST, PUT, DELETE)
â”‚   â””â”€â”€ ğŸ“„ logRoutes.js             # /api/logs (POST, GET)
â”‚
â”œâ”€â”€ ğŸ“ middleware/                  # Custom middleware
â”‚   â”œâ”€â”€ ğŸ“„ auth.js                  # JWT verification & role checking
â”‚   â””â”€â”€ ğŸ“„ errorHandler.js          # Global error handling
â”‚
â”œâ”€â”€ ğŸ“„ .env                         # Environment variables
â”œâ”€â”€ ğŸ“„ .gitignore                   # Git ignore rules
â”œâ”€â”€ ğŸ“„ package.json                 # Dependencies
â”œâ”€â”€ ğŸ“„ README.md                    # Full documentation
â”œâ”€â”€ ğŸ“„ QUICK_START.md               # Quick start guide
â””â”€â”€ ğŸ“„ Habit-Tracker-API.postman_collection.json  # Postman tests


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        REQUEST FLOW                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. CLIENT REQUEST
   â”‚
   â†“
2. SERVER.JS (Express)
   â”‚
   â†“
3. MIDDLEWARE (auth.js) â”€â”€â†’ Verify JWT Token
   â”‚
   â†“
4. ROUTES (authRoutes.js, habitRoutes.js, logRoutes.js)
   â”‚
   â†“
5. CONTROLLERS (authController.js, habitController.js, logController.js)
   â”‚
   â†“
6. MODELS (User.js, Habit.js, HabitLog.js) â”€â”€â†’ MongoDB
   â”‚
   â†“
7. RESPONSE TO CLIENT


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATABASE STRUCTURE                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USERS     â”‚         â”‚    HABITS    â”‚         â”‚  HABIT LOGS  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚ userId       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚ habitId      â”‚
â”‚ name         â”‚         â”‚ name         â”‚         â”‚ date         â”‚
â”‚ email        â”‚         â”‚ category     â”‚         â”‚ completed    â”‚
â”‚ password     â”‚         â”‚ frequency    â”‚         â”‚ createdAt    â”‚
â”‚ role         â”‚         â”‚ startDate    â”‚         â”‚ updatedAt    â”‚
â”‚ createdAt    â”‚         â”‚ createdAt    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ updatedAt    â”‚         â”‚ updatedAt    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API ENDPOINTS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”“ PUBLIC ROUTES (No authentication required)
â”œâ”€â”€ POST   /api/auth/register      # Register new user
â””â”€â”€ POST   /api/auth/login          # Login user

ğŸ”’ PROTECTED ROUTES (Requires JWT token)
â”œâ”€â”€ POST   /api/habits              # Create new habit
â”œâ”€â”€ GET    /api/habits              # Get all user's habits
â”œâ”€â”€ PUT    /api/habits/:id          # Update specific habit
â”œâ”€â”€ DELETE /api/habits/:id          # Delete specific habit
â”œâ”€â”€ POST   /api/logs                # Mark habit completed
â””â”€â”€ GET    /api/logs/:habitId       # Get habit progress & streak


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTHENTICATION FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

REGISTER:
User â†’ POST /api/auth/register â†’ Hash Password â†’ Save to DB â†’ Return JWT

LOGIN:
User â†’ POST /api/auth/login â†’ Compare Password â†’ Return JWT

PROTECTED ROUTE:
User â†’ Send JWT in Header â†’ Verify Token â†’ Allow Access â†’ Return Data


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STREAK CALCULATION                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Get all logs for a habit (sorted by date, newest first)
2. Start from today
3. Check if habit was completed today
4. If yes, increment streak and check yesterday
5. If no, streak = 0
6. Continue checking previous days until a gap is found
7. Return final streak count

Example:
Today (Jan 15): âœ… Completed â†’ Streak = 1
Yesterday (Jan 14): âœ… Completed â†’ Streak = 2
Jan 13: âœ… Completed â†’ Streak = 3
Jan 12: âŒ Not completed â†’ STOP â†’ Final Streak = 3
